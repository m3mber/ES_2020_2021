{"ast":null,"code":"var _jsxFileName = \"/Users/vv/Projects/bitbustracker/ES_2020_2021/client/src/Modal/BusTrackingModal.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Typography, Modal, CircularProgress, IconButton, makeStyles } from '@material-ui/core';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport SockJsClient from 'react-stomp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  modalStyle: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    display: 'flex'\n  },\n  modalDiv: {\n    overflow: 'auto',\n    backgroundColor: 'white',\n    width: '30%',\n    height: '30%',\n    borderRadius: '10px',\n    flexDirection: 'column',\n    justifyContent: 'start',\n    alignItems: 'center',\n    padding: 5\n  },\n  exitButton: {\n    position: 'absolute',\n    right: '33%',\n    top: '33%',\n    backgroundColor: 'white',\n    '&:hover': {\n      background: 'white',\n      transform: 'scale(1.15)'\n    }\n  },\n  loadingLanguages: {\n    position: 'absolute',\n    width: '30%',\n    height: '30%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: '10px'\n  }\n}));\nconst SOCKET_URL = 'http://localhost:8081/real-time/';\n\nconst BusTrackingModal = ({\n  isOpen,\n  closeModal\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const [loading, setLoading] = useState(true);\n  const [messages, setMessages] = useState([]);\n\n  let onConnected = () => {\n    console.log('Connected!!');\n  };\n\n  let onMessageReceived = msg => {\n    console.log('New Message Received!!', msg);\n    setMessages(messages.concat(msg));\n  };\n\n  useEffect(() => {}, []);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    disableBackdropClick: true,\n    className: classes.modalStyle,\n    open: isOpen,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.modalDiv,\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.loadingLanguages,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(SockJsClient, {\n          url: SOCKET_URL,\n          topics: ['/ESP13_bus_data'],\n          onConnect: onConnected,\n          onDisconnect: console.log('Disconnected!'),\n          onMessage: msg => onMessageReceived(msg),\n          debug: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: messages.locationId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          className: classes.exitButton,\n          onClick: () => {\n            closeModal();\n          },\n          children: /*#__PURE__*/_jsxDEV(HighlightOffIcon, {\n            fontSize: \"large\",\n            color: \"secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BusTrackingModal, \"5CgJeYuR8esv6Xvd/XKreRoYIfk=\", false, function () {\n  return [useStyles];\n});\n\n_c = BusTrackingModal;\nexport { BusTrackingModal };\n\nvar _c;\n\n$RefreshReg$(_c, \"BusTrackingModal\");","map":{"version":3,"sources":["/Users/vv/Projects/bitbustracker/ES_2020_2021/client/src/Modal/BusTrackingModal.tsx"],"names":["React","useState","useEffect","Typography","Modal","CircularProgress","IconButton","makeStyles","HighlightOffIcon","SockJsClient","useStyles","theme","modalStyle","justifyContent","alignItems","display","modalDiv","overflow","backgroundColor","width","height","borderRadius","flexDirection","padding","exitButton","position","right","top","background","transform","loadingLanguages","marginTop","SOCKET_URL","BusTrackingModal","isOpen","closeModal","classes","loading","setLoading","messages","setMessages","onConnected","console","log","onMessageReceived","msg","concat","locationId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Typography,\n  Modal,\n  CircularProgress,\n  IconButton,\n  makeStyles,\n} from '@material-ui/core';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport SockJsClient from 'react-stomp';\n\nexport interface IBusTrackingModalProps {\n  isOpen: boolean;\n  closeModal: Function;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  modalStyle: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    display: 'flex',\n  },\n  modalDiv: {\n    overflow: 'auto',\n    backgroundColor: 'white',\n    width: '30%',\n    height: '30%',\n    borderRadius: '10px',\n    flexDirection: 'column',\n    justifyContent: 'start',\n    alignItems: 'center',\n    padding: 5,\n  },\n  exitButton: {\n    position: 'absolute',\n    right: '33%',\n    top: '33%',\n    backgroundColor: 'white',\n    '&:hover': {\n      background: 'white',\n      transform: 'scale(1.15)',\n    },\n  },\n  loadingLanguages: {\n    position: 'absolute',\n    width: '30%',\n    height: '30%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: '10px',\n  },\n}));\n\nconst SOCKET_URL = 'http://localhost:8081/real-time/';\n\nconst BusTrackingModal: React.FC<IBusTrackingModalProps> = ({\n  isOpen,\n  closeModal,\n}) => {\n  const classes = useStyles();\n  const [loading, setLoading] = useState<boolean>(true);\n  const [messages, setMessages] = useState([]);\n\n  let onConnected = () => {\n    console.log('Connected!!');\n  };\n  let onMessageReceived = (msg: any) => {\n    console.log('New Message Received!!', msg);\n    setMessages(messages.concat(msg));\n  };\n\n  useEffect(() => {}, []);\n  return (\n    <Modal\n      disableBackdropClick={true}\n      className={classes.modalStyle}\n      open={isOpen}\n    >\n      <div className={classes.modalDiv}>\n        {loading ? (\n          <div className={classes.loadingLanguages}>\n            <CircularProgress />\n          </div>\n        ) : (\n          <>\n            <SockJsClient\n              url={SOCKET_URL}\n              topics={['/ESP13_bus_data']}\n              onConnect={onConnected}\n              onDisconnect={console.log('Disconnected!')}\n              onMessage={(msg: any) => onMessageReceived(msg)}\n              debug={false}\n            />\n            <Typography>{messages.locationId}</Typography>\n            <IconButton\n              className={classes.exitButton}\n              onClick={() => {\n                closeModal();\n              }}\n            >\n              <HighlightOffIcon fontSize='large' color='secondary' />\n            </IconButton>\n          </>\n        )}\n      </div>\n    </Modal>\n  );\n};\n\nexport { BusTrackingModal };\n"]},"metadata":{},"sourceType":"module"}